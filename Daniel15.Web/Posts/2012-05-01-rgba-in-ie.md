---
id: 334
title: RGBA colours in IE via a LESS mixin
published: true
publishedDate: 2012-05-01 05:08:00Z
lastModifiedDate: 2012-05-01 05:08:00Z
categories:
- Web Development

---

<p>Modern browsers have support for <a href="http://en.wikipedia.org/wiki/RGBA_color_space">RGBA colours</a>, allowing you to have semi-transparent background colours. Unfortunately, this only works in awesome browsers (everything except IE 8 and below). However, IE <em>does</em> support a custom <a href="http://msdn.microsoft.com/en-us/library/ms532997(VS.85).aspx">gradient filter</a>. Whilst it's commonly used to render gradients (obviously), it supports alpha transparency. If you set the start and end colours to be the same, this has the same effect as setting an alpha value on the colour.</p>
<p>This involves quite a lot of CSS for each alpha colour you want to use. We can automate this tedious code generation through a <a href="http://lesscss.org/">LESS</a> mixin. If you're still using 'pure' CSS, I'd highly suggest looking into LESS and SASS, they're extremely handy. In any case, I use a mixin similar to the following:</p>

<pre class="brush: css">
.rgba(@colour, @alpha)
{
	@alphaColour: hsla(hue(@colour), saturation(@colour), lightness(@colour), @alpha);
	@ieAlphaColour: argb(@alphaColour);
	
	background-color: @colour; // Fallback for older browsers
	background-color: @alphaColour; 
	
	// IE hacks
	zoom: 1; // hasLayout
	background-color: transparent\9;
	-ms-filter:  "progid:DXImageTransform.Microsoft.gradient(startColorstr=@{ieAlphaColour}, endColorstr=@{ieAlphaColour})"; // IE 8+
	    filter: ~"progid:DXImageTransform.Microsoft.gradient(startColorstr=@{ieAlphaColour}, endColorstr=@{ieAlphaColour})"; // IE 6 & 7 
	
}
</pre>

<p>Note that IE requires the element to <a href="http://www.satzansatz.de/cssd/onhavinglayout.html">have layout</a> in order to apply filters to it (hence the <em>zoom: 1</em> hack), and <a href="http://blogs.msdn.com/b/ie/archive/2008/09/08/microsoft-css-vendor-extensions.aspx">IE 8 changed the filter syntax to use -ms-filter instead</a>. This LESS mixin can be used as follows:</p>
<pre class="brush: css">
#blah
{
        .rgba(black, 0.5);
}
</pre>
<p>This will set the element to a 50% black background. This mixin could be converted to SASS quite easily, too. Ideally I would have liked to apply the IE styles in a better way (like using <a href="http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">conditional comments to set classes on the &lt;html> element</a>) but I couldn't get this approach working with LESS.</p>
<p>Hope this helps someone!</p>
<p>Until next time,<br />&mdash; Daniel</p>
